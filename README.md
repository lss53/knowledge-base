# JSMD - ç°ä»£åŒ– Markdown ç½‘ç«™å¼•æ“

![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)

JSMD æ˜¯ä¸€ä¸ªè½»é‡çº§ã€çº¯å®¢æˆ·ç«¯ã€æ— éœ€æ„å»ºçš„ç°ä»£åŒ–ç½‘ç«™å¼•æ“ã€‚å®ƒå…è®¸ä½ å®Œå…¨ä½¿ç”¨ Markdown æ–‡ä»¶æ¥æ„å»ºä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œã€å“åº”è¿…é€Ÿçš„æ–‡æ¡£ç½‘ç«™ã€ä¸ªäººåšå®¢æˆ–çŸ¥è¯†åº“ã€‚

è¿™ä¸ªé¡¹ç›®çš„è®¾è®¡å“²å­¦æ˜¯**ç®€çº¦ä¸å¼ºå¤§**ã€‚å®ƒé¿å…äº†å¤æ‚çš„æ„å»ºå·¥å…·å’Œåå°ä¾èµ–ï¼Œä½ åªéœ€è¦ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œç”šè‡³å¯ä»¥ç›´æ¥éƒ¨ç½²åœ¨ GitHub Pages ä¸Šã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

*   **âœï¸ Markdown é©±åŠ¨**: æ‰€æœ‰å†…å®¹ï¼ˆåŒ…æ‹¬ä¾§è¾¹æ å¯¼èˆªï¼‰éƒ½ç”± `.md` æ–‡ä»¶æ„æˆï¼Œç¼–è¾‘å’Œç®¡ç†æå…¶ç®€å•ã€‚
*   **ğŸš€ çº¯å®¢æˆ·ç«¯æ¸²æŸ“**: æ— éœ€åå°æœåŠ¡æˆ–å¤æ‚çš„æ„å»ºæµç¨‹ã€‚ä¿®æ”¹ Markdown æ–‡ä»¶åï¼Œåˆ·æ–°æµè§ˆå™¨å³å¯çœ‹åˆ°æ•ˆæœã€‚
*   **âš¡ï¸ æè‡´æ€§èƒ½ä¼˜åŒ–**:
    *   **é“¾æ¥é¢„åŠ è½½**: é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šæ—¶ï¼Œè‡ªåŠ¨åœ¨åå°é¢„å–é¡µé¢å†…å®¹ï¼Œå®ç°è¿‘ä¹ç¬æ—¶çš„é¡µé¢åˆ‡æ¢ã€‚
    *   **å›¾ç‰‡æ‡’åŠ è½½**: é¡µé¢ä¸­çš„å›¾ç‰‡ä¼šç­‰åˆ°è¿›å…¥è§†å£æ—¶æ‰åŠ è½½ï¼Œæ˜¾è‘—æå‡åˆå§‹åŠ è½½é€Ÿåº¦ã€‚
    *   **å†…å®¹ç¼“å­˜**: è®¿é—®è¿‡çš„å†…å®¹ä¼šè¢«ç¼“å­˜ï¼ŒäºŒæ¬¡è®¿é—®æ— éœ€é‡æ–°è¯·æ±‚ã€‚
*   **ğŸ“± å“åº”å¼ä¸ç§»åŠ¨ä¼˜å…ˆ**: æ— è®ºåœ¨æ¡Œé¢è¿˜æ˜¯ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œéƒ½æä¾›å“è¶Šçš„æµè§ˆä½“éªŒã€‚
*   **ğŸ”’ å®‰å…¨ç¬¬ä¸€**: æ‰€æœ‰æ¸²æŸ“åˆ°é¡µé¢çš„ HTML éƒ½ç»è¿‡ `DOMPurify` æ¸…ç†ï¼Œæœ‰æ•ˆé˜²æ­¢ XSS æ”»å‡»ã€‚
*   **â™¿ï¸ ç»ä½³çš„å¯è®¿é—®æ€§ (a11y)**:
    *   å®Œæ•´çš„ ARIA å±æ€§æ”¯æŒã€‚
    *   æ™ºèƒ½çš„ç„¦ç‚¹ç®¡ç†ï¼Œæ–¹ä¾¿é”®ç›˜ç”¨æˆ·æ“ä½œã€‚
    *   å°Šé‡ç”¨æˆ·çš„ `prefers-reduced-motion` åå¥½ã€‚
*   **ğŸ§© å¼ºå¤§çš„å†…å®¹æ”¯æŒ**:
    *   å†…ç½®æ”¯æŒ GitHub é£æ ¼çš„ Markdownã€‚
    *   é€šè¿‡ [MathJax](https://www.mathjax.org/) è‡ªåŠ¨æ¸²æŸ“ LaTeX æ•°å­¦å…¬å¼ã€‚
*   **ğŸ¨ æ˜“äºå®šåˆ¶**: ä½¿ç”¨ CSS å˜é‡ï¼Œå¯ä»¥è½»æ¾è°ƒæ•´ç½‘ç«™çš„ä¸»é¢˜é¢œè‰²ã€å­—ä½“å’Œå¸ƒå±€ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

ä½¿ç”¨ JSMD éå¸¸ç®€å•ï¼Œä½ åªéœ€è¦ä¸€ä¸ªç®€å•çš„ Web æœåŠ¡å™¨æ¥æ‰˜ç®¡æ–‡ä»¶ã€‚

### 1. å‡†å¤‡ç¯å¢ƒ

ç”±äºæµè§ˆå™¨å®‰å…¨ç­–ç•¥çš„é™åˆ¶ï¼Œ`fetch` API æ— æ³•åœ¨ `file://` åè®®ä¸‹å·¥ä½œã€‚å› æ­¤ï¼Œä½ éœ€è¦ä¸€ä¸ªæœ¬åœ°çš„ HTTP æœåŠ¡å™¨ã€‚

å¦‚æœä½ å®‰è£…äº† Python 3ï¼š
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œ
python -m http.server
```

æˆ–è€…ï¼Œå¦‚æœä½ å®‰è£…äº† Node.jsï¼Œå¯ä»¥ä½¿ç”¨ `http-server`ï¼š
```bash
# é¦–å…ˆå…¨å±€å®‰è£…
npm install -g http-server

# ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œ
http-server
```

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ VS Code çš„ [Live Server](https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer) æ’ä»¶ã€‚

### 2. å®šä¹‰å¯¼èˆª

ç¼–è¾‘æ ¹ç›®å½•ä¸‹çš„ `_sidebar.md` æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†ç½‘ç«™çš„å¯¼èˆªç»“æ„ã€‚å®ƒä½¿ç”¨æ ‡å‡†çš„ Markdown é“¾æ¥è¯­æ³•ã€‚

**ç¤ºä¾‹ `_sidebar.md`**:
```markdown
### JSMD é¡¹ç›®

*   [**é¦–é¡µ**](?README)
*   [å¿«é€Ÿå…¥é—¨](?getting-started)
*   [æ ¸å¿ƒç‰¹æ€§](?features)

### è¿›é˜¶

*   [è‡ªå®šä¹‰](?customization)
*   [éƒ¨ç½²æŒ‡å—](?deployment)
```> **æ³¨æ„**: é“¾æ¥çš„ç›®æ ‡æ˜¯ä¸å¸¦ `.md` åç¼€çš„æ–‡ä»¶åï¼Œå¹¶ä»¥ `?` å¼€å¤´ã€‚ä¾‹å¦‚ï¼Œ`?getting-started` ä¼šåŠ è½½ `getting-started.md` æ–‡ä»¶ã€‚

### 3. åˆ›å»ºé¡µé¢

åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºå¯¹åº”çš„ Markdown æ–‡ä»¶ (`README.md`, `getting-started.md`, `features.md` ç­‰)ã€‚

**å†…éƒ¨é“¾æ¥**:
ä½ å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼åœ¨é¡µé¢ä¹‹é—´åˆ›å»ºé“¾æ¥ï¼š
1.  **Wiki é£æ ¼**: `[[é¡µé¢åç§°]]` (ä¾‹å¦‚ `[[getting-started]]`)
2.  **Markdown é£æ ¼**: `[é“¾æ¥æ–‡æœ¬](?é¡µé¢åç§°)` (ä¾‹å¦‚ `[å¿«é€Ÿå…¥é—¨æŒ‡å—](?getting-started)`)

è¿™ä¸¤ç§é“¾æ¥éƒ½ä¼šè¢«è‡ªåŠ¨è½¬æ¢æˆåº”ç”¨å†…éƒ¨çš„ SPA (å•é¡µé¢åº”ç”¨) å¯¼èˆªé“¾æ¥ã€‚

### 4. å¯åŠ¨ï¼

å°†ä½ çš„æ–‡ä»¶æ”¾åœ¨ Web æœåŠ¡å™¨çš„æ ¹ç›®å½•ä¸‹ï¼Œç„¶åè®¿é—®æœåŠ¡å™¨åœ°å€ï¼ˆä¾‹å¦‚ `http://localhost:8000`ï¼‰ã€‚ä½ çš„ç½‘ç«™å°±å·²ç»è¿è¡Œèµ·æ¥äº†ï¼

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ dom.js             # é›†ä¸­ç®¡ç† DOM å…ƒç´ çš„é€‰æ‹©å™¨
â”‚   â”œâ”€â”€ state.js           # å…¨å±€çŠ¶æ€ç®¡ç†å™¨ (ç¼“å­˜, ä¾§è¾¹æ çŠ¶æ€ç­‰)
â”‚   â”œâ”€â”€ utils.js           # é€šç”¨å·¥å…·å‡½æ•° (å®‰å…¨ã€é˜²æŠ–ã€é“¾æ¥è½¬æ¢)
â”‚   â”œâ”€â”€ renderer.js        # æ ¸å¿ƒæ¸²æŸ“å™¨ï¼Œè´Ÿè´£è·å–å’Œæ¸²æŸ“ Markdown
â”‚   â”œâ”€â”€ sidebar.js         # ä¾§è¾¹æ çš„é€»è¾‘ä¸çŠ¶æ€æ§åˆ¶
â”‚   â”œâ”€â”€ eventHandlers.js   # é›†ä¸­å¤„ç†æ‰€æœ‰ä¸»è¦çš„äº‹ä»¶ç›‘å¬
â”‚   â”œâ”€â”€ imageLoader.js     # å›¾ç‰‡æ‡’åŠ è½½æ¨¡å—
â”‚   â””â”€â”€ main.js            # åº”ç”¨ä¸»å…¥å£ï¼Œåˆå§‹åŒ–æ‰€æœ‰æ¨¡å—
â”‚
â”œâ”€â”€ _sidebar.md            # ç½‘ç«™å¯¼èˆªèœå• (Markdown æ ¼å¼)
â”œâ”€â”€ README.md              # ç½‘ç«™çš„é»˜è®¤ä¸»é¡µ
â”œâ”€â”€ getting-started.md     # å…¶ä»–å†…å®¹é¡µé¢...
â””â”€â”€ index.html             # é¡¹ç›®å”¯ä¸€çš„ HTML å…¥å£æ–‡ä»¶
```

## ğŸ¨ å®šåˆ¶åŒ–

ä½ å¯ä»¥è½»æ¾åœ°ä¿®æ”¹ç½‘ç«™çš„å¤–è§‚ã€‚

æ‰“å¼€ `index.html` æ–‡ä»¶ï¼Œåœ¨ `<style>` æ ‡ç­¾çš„ `:root` é€‰æ‹©å™¨ä¸­ï¼Œä½ å¯ä»¥æ‰¾åˆ°å¹¶ä¿®æ”¹å…¨å±€ CSS å˜é‡ï¼š

```css
:root {
  --primary-color: #0366d6;      /* ä¸»é¢˜è‰² */
  --primary-hover: #0256b9;      /* ä¸»é¢˜æ‚¬åœè‰² */
  --error-color: #cb2431;        /* é”™è¯¯æç¤ºé¢œè‰² */
  --border-color: #eaecef;       /* è¾¹æ¡†é¢œè‰² */
  --sidebar-width: 300px;         /* ä¾§è¾¹æ å®½åº¦ */
  --radius: 6px;                  /* åœ†è§’å¤§å° */
  /* ... è¿˜æœ‰æ›´å¤š */
}
```

## ğŸ› ï¸ ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“

JSMD ä¾èµ–äº†å‡ ä¸ªä¼˜ç§€çš„å¼€æºåº“ï¼Œå®ƒä»¬é€šè¿‡ CDN çš„æ–¹å¼å¼•å…¥ï¼Œæ— éœ€æœ¬åœ°å®‰è£…ï¼š

*   [**markdown-it**](https://github.com/markdown-it/markdown-it): é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„ Markdown è§£æå™¨ã€‚
*   [**DOMPurify**](https://github.com/cure53/DOMPurify): è¶…å¿«é€Ÿã€é«˜å®¹é”™çš„ HTML æ¸…ç†åº“ï¼Œç”¨äºé˜²æ­¢ XSSã€‚
*   [**github-markdown-css**](https://github.com/sindresorhus/github-markdown-css): è®©ä½ çš„ Markdown å†…å®¹æ‹¥æœ‰ GitHub èˆ¬çš„ä¼˜ç¾æ ·å¼ã€‚
*   [**MathJax**](https://www.mathjax.org/): å¼ºå¤§çš„æ•°å­¦å…¬å¼æ¸²æŸ“å¼•æ“ã€‚

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](./LICENSE) æˆæƒã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢[å¼ ç‰æ–°ï¼ˆå–„ç”¨ä½³è½¯ï¼‰](https://github.com/xbeta-zhang/xbeta-small-tools/tree/main/jsmd-website)çš„å¼€æºé¡¹ç›®ã€‚
